<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Floresta</title>
        <link rel="stylesheet" href="/css/floresta.css">
        <script src="js/phaser.min.js" charset="utf-8"></script>
    </head>
    <body>
        <script type="text/javascript">

            var gameWidth = window.innerWidth;
            var gameHeight = window.innerHeight;
            var tileWidth = (gameHeight*400)/1080;
            var nTiles = Math.ceil(gameWidth/tileWidth);

            var game = new Phaser.Game(nTiles*400, 1080, Phaser.AUTO, '', { preload: preload, create: create, update: update });

            var resizeGame = function () {

                gameWidth = window.innerWidth;
                gameHeight = window.innerHeight;
                tileWidth = (gameHeight*400)/1080;
                nTiles = Math.ceil(gameWidth/tileWidth);

                game.width = gameWidth;
                game.height = gameHeight;

                //game.stage.bounds.height = gameHeight;

                if (game.renderType === 1) {
                    game.renderer.resize(gameWidth, gameHeight);
                    Phaser.Canvas.setSmoothingEnabled(game.context, false);
                }
            }
            // window.onresize = resizeGame

            function preload() {
                for (i = 1; i < 25; i++) {
                    game.load.image('f'+i, 'img/f'+i+'.jpg');
                }
            }

            function create() {
                for (i = 1; i <= nTiles; i++) {
                    game.add.sprite(0 + (i-1)*400, 0, 'f'+i);
                }

                game.scale.pageAlignHorizontally = true;
                game.scale.pageAlignVertically = true;
                resizeGame();
            }

            function update() {

            }
        </script>
    </body>
</html>
